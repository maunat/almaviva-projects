package it.almaviva;

import com.fasterxml.jackson.databind.ObjectMapper;
import io.quarkus.test.junit.QuarkusTest;
import it.almaviva.etsi_messages.CoopIts;
import net.gcdc.asn1.uper.UperEncoder;
import org.junit.jupiter.api.Test;

@QuarkusTest
public class MeasureResourceTest {


    @Test
    public void cam() throws Exception {
        ObjectMapper objectMapper = new ObjectMapper();

        byte[] in = new byte[]{0x01, 0x02, 0x00, 0x00, 0x00, 0x01, (byte) 0xda, 0x3b,
                0x60, 0x5a, 0x45, (byte) 0x9b, 0x2e, 0x6e, 0x3e, 0x53,
                (byte) 0xe9, 0x60, 0x00, 0x00, 0x1c, 0x22, 0x4d, (byte) 0xd8,
                (byte) 0xde, 0x00, 0x00, 0x00, 0x00, 0x05, 0x0f, (byte) 0x82,
                0x50, (byte) 0x9d, 0x07, 0x33, (byte) 0xa9, (byte) 0x87, 0x0f, (byte) 0xff,
                (byte) 0xd0, 0x21, 0x20, 0x50, 0x00, 0x14, 0x00, 0x02,
                (byte) 0xc6, 0x74, 0x4a};

        CoopIts.Cam cam = UperEncoder.decode(in, CoopIts.Cam.class);

        for (byte b : in)
            System.out.print(b);

    }

    @Test
    public void denm() throws Exception {
        ObjectMapper objectMapper = new ObjectMapper();

        byte[] in = new byte[]{
                0x01, 0x01, 0x00, 0x00, 0x00, 0x01, (byte) 0x87, 0x00,
                0x00, 0x00, 0x00, (byte) 0x80, 0x00, 0x0c, 0x1a, 0x1b,
                (byte) 0xfc, 0x41, 0x43, 0x06, (byte) 0x86, (byte) 0xff, 0x10, 0x55,
                0x22, (byte) 0xcd, (byte) 0x97, 0x67, 0x1f, 0x29, (byte) 0xf4, 0x20,
                0x00, 0x00, 0x0e, 0x11, 0x26, (byte) 0xee, (byte) 0xef, 0x20,
                0x00, 0x50, 0x00, 0x00, 0x10, 0x10
        };
        CoopIts.Denm denm = UperEncoder.decode(in, CoopIts.Denm.class);

    }

}
